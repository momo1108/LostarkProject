# ë¡œìŠ¤íŠ¸ì•„í¬ í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸

> ë¡œìŠ¤íŠ¸ì•„í¬ ê³µì‹ open APIë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ê°œë°œ ê¸°ìˆ  ìŠ¤íƒ

### Front-end

- react
- react-router
- redux

### Back-end

- Next.js

### ë°°í¬ ì„œë²„

- Amazon Web Service EC2

## ê°œë°œ ë‹¨ê³„

### 1. í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •

> https://us-east-1.console.aws.amazon.com/ec2/home<br>
> EC2ì˜ ë¬´ë£Œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ë†“ì€ê²Œ ìˆì—ˆë‹¤.

ê·¼ë° ë³´ì•ˆ í‚¤ í˜ì–´ë¥¼ ìƒì–´ë²„ë¦¼ ã… ....

ì–´ì©”ìˆ˜ ì—†ìœ¼ë‹ˆ ë³µêµ¬í•´ë³´ì.

ë¸”ë¡œê·¸ ì—¬ê¸°ì €ê¸°ë¥¼ ì°¸ì¡°í•´ì„œ ë°©ë²•ì„ ì•Œì•„ë³´ë‹ˆ ëŒ€ê°œ ì•„ë˜ì˜ ê³¼ì •ìœ¼ë¡œ í•˜ë”ë¼.

---

1. ìƒˆë¡œìš´ í‚¤ í˜ì–´ë¥¼ ìƒì„±í•´ì•¼í•œë‹¤.

- ì´ê±´ ê·¸ëƒ¥ í‚¤ í˜ì–´ ë©”ë‰´ì—ì„œ ëšë”±.(replace-momo1108.pem)
- ë‹¤ì‹œëŠ” ìƒì–´ë²„ë¦¬ì§€ ì•Šìœ¼ë¦¬....

2. ë³µêµ¬ì— ì‚¬ìš©í•  ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ„ì˜ í‚¤ í˜ì–´ë¡œ ìƒì„±í•œë‹¤.

- ìš”ê²ƒë„ ê¸°ë³¸ì„¤ì •ë§Œ í•˜ê³  ë°”ë¡œ ëšë”±

3. ì›ë³¸ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì •ì§€í•œë‹¤.
4. ì›ë³¸ ì¸ìŠ¤í„´ìŠ¤ì˜ Root ë³¼ë¥¨ì„ ë¶„ë¦¬í•´ì„œ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²° í›„ ë§ˆìš´íŠ¸.

- ë³¼ë¥¨ ë©”ë‰´ì—ì„œ í•´ì•¼ë¨ - `ë³¼ë¥¨ ë¶„ë¦¬`
- `ë³¼ë¥¨ ì—°ê²°` : ì¸ìŠ¤í„´ìŠ¤ëŠ” ìƒˆê±° ì„ íƒ. ë””ë°”ì´ìŠ¤ ì´ë¦„ì€ ëŒ€ì¶© `/dev/xvdf` ë¡œ ì„¤ì •í•¨

5. ë³¼ë¥¨ ë‚´ë¶€ì˜ public key íŒŒì¼ ë‚´ìš©ì„ ìƒˆë¡œ ë§Œë“  í‚¤ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •

- ë¨¼ì € ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ssh ì ‘ì† : `ssh ubuntu@ipì£¼ì†Œ -i keyê²½ë¡œ` (gitbash aliasë¡œ ë“±ë¡í•˜ì. `alias lostark="ssh ubuntu@ipì£¼ì†Œ -i keyê²½ë¡œ"` - ~/.bash_profileì— ì €ì¥í•¨.)
- root ê³„ì •ìœ¼ë¡œ ì§„í–‰í•˜ì. ì›ë³¸ Root ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸í•´ì•¼í•œë‹¤.
- `fdisk -l` : ë³¼ë¥¨ í™•ì¸(xvda-ìƒˆë¡œë§Œë“ ê±°, xvdf-ì›ë³¸ ë‘ê°œê°€ í™•ì¸ë¨)
- ~~`mount -o nouuid /dev/xvdf1 /mnt` : ì„ì‹œë¡œ íŒŒì¼ì‹œìŠ¤í…œì— ìš°ì„  ë§ˆìš´íŠ¸í•  ë•ŒëŠ” nouuid ì˜µì…˜ ì‚¬ìš©í•˜ë©´ ëœë‹¤ëŠ”ë“¯~~
  - xvdf1, xvdf14, xvdf15 ì´ë ‡ê²Œ ìˆëŠ”ë° ë’¤ì˜ 2ê°œëŠ” OSê´€ë ¨ìœ¼ë¡œ ì‚¬ìš©ëœë“¯? 1ì´ íŒŒì¼ì‹œìŠ¤í…œì´ë‹¤.
- ~~ì•ˆë˜ë„¤?? ì´ëŸ¬ë©´ uuidë¥¼ ë°”ê¿”ì•¼ í•  ê²ƒ ê°™ì€ë° ì›ë³¸ uuidë¥¼ ë§‰ ë°”ê¿”ë„ ë˜ë ¤ë‚˜... `xfs_admin -U generate /dev/íŒŒí‹°ì…˜`~~
  - ~~ë§ˆìš´íŠ¸ ëœ íŒŒí‹°ì…˜ì€ ì•ˆëœë‹¨ë‹¤.... ì–´ì©”ìˆ˜ ì—†ì´ ì›ë³¸ì„ ë°”ê¿”ì•¼í• ë“¯. `xfs_admin -U generate /dev/xvdf1`~~
- nouuid ì˜µì…˜ì€ xfs íŒŒì¼ì‹œìŠ¤í…œë§Œ ë™ì‘í•œë‹¤ê³ í•œë‹¤. ë‚´ê»€ ext4 íŒŒì¼ì‹œìŠ¤í…œì´ë¼ `-orw` ë¥¼ ì‚¬ìš©í•˜ë‹ˆ ëìŒ
  - `mount -orw /dev/xvdf1 /mnt`
- ì›ë³¸ í‚¤ ë‚´ìš©ì— ìƒˆ ì„œë²„ í‚¤ ë‚´ìš© ë®ì–´ì“°ê¸°.
  - `cat /home/ê³„ì •/.ssh/authorized_keys > /mnt/home/ê³„ì •/.ssh/authorized_keys`
  - ì•„ë‹ˆ ê·¼ë° ì´ ì‘ì—…ë§Œ í•˜ëŠ”ê±°ë©´ í˜ë“¤ê²Œ ë§ˆìš´íŠ¸ ì•ˆí•˜ê³  ê·¸ëƒ¥ ë”°ë¡œ ì ‘ì†í•´ì„œ ë‚´ìš© ë³µì‚¬í•˜ê³  ì›ë³¸ì— ë®ì–´ì“°ê¸° í•˜ë©´ ë˜ëŠ”ê±° ì•„ë‹ˆì•¼?

6. ì–¸ë§ˆìš´íŠ¸ í›„ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì •ì§€ í›„ Root ë³¼ë¥¨ ë¶„ë¦¬.

- `umount /mnt`
- ì›ë³¸ì— ì—°ê²°í•  ë•Œ `/dev/sda1` ìœ¼ë¡œ ì—°ê²°í•¨.(ì—¬ê¸°ë¡œ ì•ˆí•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘í•  ë•Œ `/dev/sda1`ì— ì—°ê²°ëœê²Œ ì—†ë‹¤ê³  ì•ˆë˜ë„¤)
- âš ï¸ ì—°ê²°ë˜ëŠ”ë° ì‹œê°„ì´ ê±¸ë¦°ë‹¤. ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ í™•ì¸ í›„ ì§„í–‰í•˜ì.

7. ì›ë³¸ ì¸ìŠ¤í„´ìŠ¤ì— Root ë³¼ë¥¨ ì—°ê²° í›„ ì‹œì‘. ì´ì œ ì—°ê²°ì´ ëœë‹¤.(ëœë‹¤!!!!!!!!!!!)

---

ìœ„ ê³¼ì •ì„ ê±°ì³ì•¼í•œë‹¤... íŒŒì¼ í•˜ë‚˜ ì½ì–´ë²„ë¦° ëŒ€ê°€ì¹˜ê³ ëŠ” ì¢€ ë§ì´ ê·€ì°®ë‹¤ ã… 

ë‹¤ì‹œëŠ” ìƒì–´ë²„ë¦¬ì§€ ì•Šê²Œ í”„ë¡œì íŠ¸ì— key ì „ìš© í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ ë³´ê´€í•˜ì.(âš ï¸ .gitignore ì— ì¶”ê°€í•´ë†“ê¸°)

ì´ë¯¸ ì„œë²„ì— nvmì„ ê¹”ì•„ë†¨ë‹¤. í”„ë¡œì íŠ¸ë¥¼ clone í•˜ê³  ê·¸ëŒ€ë¡œ ë¹Œë“œí•´ë³´ì.

> âš ï¸ root ê³„ì •ì— nvm ì„¤ì¹˜ í›„ 18.15.0 ë²„ì „ ì‚¬ìš©

```bash
sudo su -
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash
source ~/.bashrc
nvm install v18.15.0
```

```bash
git clone https://github.com/momo1108/LostarkProject.git
npm ci
npm run build
npm start # 3000ë²ˆ í¬íŠ¸
```

> ì‹¤ìˆ˜ë¡œ nginxë¥¼ ë„ê³  nextì„œë²„ë¥¼ 80ìœ¼ë¡œ ì˜®ê²¨ë²„ë¦¼.<br>
> ë‹¤ì‹œ nginx ì¼œê³  nextë¥¼ 3000ë²ˆí¬íŠ¸(default)ë¡œ

```bash
sudo update-rc.d -f nginx disable # nginx auto start ë¹„í™œì„±í™”
sudo service nginx stop # nginx ë¨¼ì € ì¤‘ì§€
sudo update-rc.d -f nginx enable
```

> VS Codeì˜ terminalì—ì„œ ì›ê²© ì ‘ì† í›„ npm start í•œ ìƒíƒœë¡œ í„°ë¯¸ë„ì„ êº¼ë²„ë¦¬ë©´ next ì„œë²„ê°€ ê·¸ëŒ€ë¡œ backgroundí™”ëœë‹¤.<br>
> ì¢…ë£Œí•˜ë ¤ë©´ `ps aux | grep node` ë¡œ í”„ë¡œì„¸ìŠ¤ ID ì°¾ì•„ë‚´ê³ (ì™¼ìª½ì—ì„œ 2ë²ˆì§¸),<br> > `kill -9 í”„ë¡œì„¸ìŠ¤ID` í•˜ë©´ ëœë‹¤.

- 3000ë²ˆ í¬íŠ¸ì— Next.js ì„œë²„ê°€ ì˜¬ë¼ê°„ë‹¤. nginx ì‚¬ìš©í•´ì„œ 80ë²ˆ ìš”ì²­ redirect í•´ì£¼ì.
- /etc/nginx/sites-enable/default

```nginx
server {
  listen  80;
  server_name localhost;

  location / {
    proxy_pass http://localhost:3000;
  }
}
```

#### pm2ë¥¼ ì´ìš©í•´ ì„œë²„ êµ¬ë™ê³¼ ëª¨ë‹ˆí„°ë§ì„ í•´ê²°í•˜ì.

```bash
npm i -d pm2
pm2 init simple
cd LostarkProject
pm2 init simple
nano ecosystem.config.js
```

- ecosystem.config.js(ê¸°ë³¸ë§Œ ì„¸íŒ…)

```js
module.exports = {
  apps: [
    {
      name: "LoastarkApp",
      script: "npm start",
    },
  ],
};
```

- í…ŒìŠ¤íŠ¸í•´ë³´ê¸°

```bash
pm2 start ecosystem.config.js # ì„œë²„ êµ¬ë™(ì „ì²´ ì•±)
pm2 start --only buildstart # ë¹Œë“œ&ìŠ¤íƒ€íŠ¸ ì•±
pm2 start --only dev # ê°œë°œì„œë²„ ì•±
pm2 list # ì„œë²„ë“¤ì˜ ê°„ë‹¨í•œ ìƒíƒœ í™•ì¸
pm2 monit # in-terminal ëª¨ë‹ˆí„°ë§ ëŒ€ì‰¬ë³´ë“œ í™•ì¸
```

https ì„¤ì •ì€ ë‚˜ì¤‘ì— ì ìš©í•˜ê¸°ë¡œ í•˜ì..

#### tailwindcss

ì˜ˆì „ì— ì‚¬ë‚´ í”„ë¡œì íŠ¸ ê°œë°œí•  ë•Œ tailwindë¥¼ ì‚¬ìš©í•´ë´¤ëŠ”ë° ì •ë§ í¸í•˜ê³  ì¢‹ì•˜ë‹¤.

tailwind ì™€ sass ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” PostCSSë¥¼ ì„¤ì¹˜í•´ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

tailwindë„ PostCSS í”ŒëŸ¬ê·¸ì¸ì´ê¸° ë•Œë¬¸ì—, Sass, Less, Stylus ë“±ì˜ preprocessorë“¤ë„ ë§‰í˜ì—†ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.(Autoprefixer ì²˜ëŸ¼.)

```bash
npm i -d tailwindcss postcss autoprefixer sass
npx tailwindcss init
```

- tailwind with sass ì£¼ì˜ì  : https://tailwindcss.com/docs/using-with-preprocessors#sass
- postcss.config.js

```js
module.exports = {
  plugins: {
    tailwindcss: {}, // tailwind ì ìš©
    autoprefixer: {}, // autoprefixer ì ìš©
  },
};
```

- tailwind.config.js

```js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ["./pages/**/*.{tsx,ts}"],
  theme: {
    extend: {},
  },
  plugins: [],
};
```

- ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ê¸°ë³¸ì ì¸ ì‚¬ìš©ë°©ë²•ì„ ì°¸ì¡°í•˜ê³ , ì¬ë°ŒëŠ”ê²ƒì€ scss íŒŒì¼ì—ì„œë„ tailwind ì ìš©ì´ ê°€ëŠ¥í•˜ë‹¤!

```scss
@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  div {
    @apply bg-gray-400; // ë„ˆë¬´ ì‹ ê¸°í•˜ë„¤!!!
    color: red;
  }
}
```

#### ë„ë©”ì¸ ì„¸íŒ…

ì–¸ì œê¹Œì§€ IPë¡œ ì ‘ì†í•  ìˆœ ì—†ìœ¼ë‹ˆ ì„¸íŒ…ì„ ì¢€ í•´ë³´ì.

ë¬´ë£Œ ë„ë©”ì¸ í˜¸ìŠ¤íŒ…ì„ ì‚¬ìš©í•´ë„ ë˜ê¸´ í•˜ì§€ë§Œ, ì°¾ì•„ë³´ë‹ˆ ë‹¤ì–‘í•œ ë‹¤ìš´ì‚¬ì´ë“œê°€ ìˆë‹¤.(ì‚¬ì´íŠ¸ ë°ì´í„°ì™€ ë°©ë¬¸ì ë°ì´í„°ë“±ì˜ ê°•ì œì œê³µ, ë¬´í†µë³´ ì‚¬ì´íŠ¸ ì‚­ì œ ë“±. ì°¸ì¡°ì˜ìƒ : https://www.youtube.com/watch?v=rrHrcRMRTtQ)

ì›¹ í˜¸ìŠ¤íŒ…ì€ ë¹„ì‹¸ì„œ ëª»ì“°ê² ì§€ë§Œ, ìµœëŒ€í•œ ì‹¼ ë„ë©”ì¸ í˜¸ìŠ¤íŒ…ì„ ì‚¬ìš©í•´ë³´ì ğŸ˜‚

[ê°€ë¹„ì•„](https://www.gabia.com/)ì—ì„œ .site ë„ë©”ì¸ì´ 2000ì›ì— íŒë§¤ë˜ê³ ìˆë‹¤. ì´ê±´ ëª»ì°¸ì§€.(1ë…„ë§Œ í• ì¸í•´ì¤Œ ã…‹ã…‹)

loaple.site ë¡œ ì‚¬ìš©í•˜ì. dns record ì„¸íŒ… í›„ 48ì‹œê°„ê¹Œì§€ ê±¸ë¦´ ìˆ˜ ìˆë‹¤ê³ í•œë‹¤.

### 2. í”„ë¡œì íŠ¸ ì„¤ê³„

í”„ë¡œì íŠ¸ ì„¤ê³„ë‹¨ê³„ê°€ ì œì¼ ì–´ë ¤ìš´ê²ƒ ê°™ë‹¤... ì—¬ëŸ¬ê°€ì§€ ë‹¨ê³„ê°€ ìˆì§€ë§Œ ê°„ë‹¨ê°„ë‹¨í•˜ê²Œ í•´ë³´ì.

#### 1. ìš”êµ¬ë¶„ì„

[Lostark Open API](https://developer-lostark.game.onstove.com/)ì—ì„œ apië¥¼ ì œê³µí•œë‹¤.(ë°œê¸‰ë°›ì€ í† í°ì€ `.env.local` ì— ì€ë°€íˆ ë³´ê´€ì¤‘)

apiê¸°ëŠ¥ì„ ëª¨ë‘ í™œìš©í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë°©ëŒ€í•˜ë‹ˆ ì¼ë‹¨, ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” loawaë¥¼ ì°¸ì¡°í•˜ì—¬ ë§Œë“¤ì–´ë³´ì.

ê°€ì¥ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì€ ë³¸ì¸ì˜ ìºë¦­í„° ì •ë³´ë¥¼ ë””ìŠ¤í”Œë ˆì´í•´ì£¼ëŠ” í˜ì´ì§€ì´ë‹¤.
ìºë¦­í„° ì´ë¯¸ì§€ëŠ” ê³µì‹í™ˆí˜ì´ì§€ì—ì„œ ê¸ì–´ì™”ë‹¤.

- ë©”ì¸ í˜ì´ì§€ : ê°„ë‹¨í•˜ê²Œ ë©”ë‰´ë¥¼ ì¶œë ¥í•´ì£¼ëŠ” ë©”ì¸ í˜ì´ì§€ì´ë‹¤.
  - ê¸°ë³¸ ì‚¬ìš© ë©”ë‰´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ê³ , ì„¤ì •ì´ ëœ ê²½ìš° ë©”ì¸ í˜ì´ì§€ë¥¼ skipí•˜ê³  í•´ë‹¹ ë©”ë‰´ë¡œ redirectí•œë‹¤.
  - ì„¤ì • ì •ë³´ëŠ” ê°„ë‹¨íˆ localStorageì— ì €ì¥í•˜ì.
  - ë©”ë‰´ëŠ” ì–´ë–»ê²Œ í• ê¹Œ?
    - ìºë¦­í„° ì •ë³´ ë©”ë‰´
    - ê°ì¸ ì„¸íŒ… ë©”ë‰´
    - íŠ¸ë¼ì´í¬ë“œ ê°€ê²© ì˜ˆìƒ(ìˆìœ¼ë©´ ì¢‹ì„ê²ƒê°™ì•„ì„œ)

#### í°íŠ¸ ì„¤ì •

Roboto, NanumSquareNeo(ìµœê·¼ì— ë‚˜ì˜¨ ê²ƒ ê°™ë‹¤.) ë‘ê°€ì§€ í°íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.

NanumSquareNeoì˜ ttf ìš©ëŸ‰ì´ ë„ˆë¬´ ì»¤ì„œ woff ë¡œ ë³€í™˜í•´ì„œ ì‚¬ìš©í–ˆë‹¤. íŒŒì¼ í•œê°œë‹¹ 2MB -> 600~700KB ì •ë„ë¡œ ì••ì¶•ì´ ëœë‹¤.

ì‚¬ìš©í•  ëª¨ë“  font-weightì— ëŒ€í•´ fontface ì„¤ì •ì„ ë”°ë¡œ í•´ì£¼ì–´ì•¼ ì ìš©ì´ ë˜ë”ë¼..

```css
@font-face {
  font-family: "NanumSquareNeo";
  src: url("../fonts/NanumSquareNeo/NanumSquareNeo-bRg.woff") format("woff");
  font-weight: 400;
  font-style: normal;
}
@font-face {
  font-family: "NanumSquareNeo";
  src: url("../fonts/NanumSquareNeo/NanumSquareNeo-cBd.woff") format("woff");
  font-weight: 700;
  font-style: normal;
}
@font-face {
  font-family: "NanumSquareNeo";
  src: url("../fonts/NanumSquareNeo/NanumSquareNeo-aLt.woff") format("woff");
  font-weight: 300;
  font-style: normal;
}
@font-face {
  font-family: "Roboto";
  src: url("../fonts/Roboto/Roboto-Regular.woff") format("woff");
  font-weight: 400;
  font-style: normal;
}
@font-face {
  font-family: "Roboto";
  src: url("../fonts/Roboto/Roboto-Bold.woff") format("woff");
  font-weight: 700;
  font-style: normal;
}
@font-face {
  font-family: "Roboto";
  src: url("../fonts/Roboto/Roboto-Light.woff") format("woff");
  font-weight: 300;
  font-style: normal;
}
```

ì„¤ì •í•œ í°íŠ¸ê°€ í•œêº¼ë²ˆì— ë¹Œë“œë˜ë¯€ë¡œ ì‚¬ìš©í• ê²ƒë§Œ ì„¤ì •í•˜ì.

ë©”ë‰´ ë°ì´í„° ê°™ì€ ë³€í™”ê°€ ì ì€ ë°ì´í„°ë“¤ì€, íŒŒì¼ë¡œ ì €ì¥í•œ í›„ Front ë‹¨ì—ì„œ API ìš”ì²­ìœ¼ë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ì½ì–´ì™€ì•¼ í•œë‹¤.

APIë¡œ ì‚¬ìš©í•  ts íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ pages/api/ì— ì €ì¥í•˜ì.

> âš ï¸ apiì—ì„œ fs ë¥¼ ì‚¬ìš©í•´ json íŒŒì¼ì„ ì½ê¸° ìœ„í•´ì„œëŠ” ì ˆëŒ€ê²½ë¡œë¡œ ì§€ì •í•´ì¤˜ì•¼í•˜ë”ë¼... ìƒëŒ€ê²½ë¡œë¥¼ ì•„ë¬´ë¦¬ í•´ë³´ê³  alias ê²½ë¡œë¥¼ ì•„ë¬´ë¦¬ í•´ë´ë„ ì¸ì‹ì„ ëª»í•´ ã… ã… 

#### ubuntu ì„œë²„ ë°°í¬ì‹œ ë¬¸ì œì  ë°œìƒ

nginx ê´€ë ¨í•´ì„œ redirect ì‚¬ìš© ì‹œ ì›¹ì†Œì¼“ì´ ì–´ì©Œêµ¬ì €ì©Œêµ¬...

ì„¤ì •ì„ ì¶”ê°€í•´ì£¼ì.

```nginx
server {
  listen  80;
  server_name localhost;

  location / {
    proxy_pass http://localhost:3000;
  }

  location /_next/webpack-hmr {
    proxy_pass http://localhost:3000/_next/webpack-hmr;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
  }
}
```

> í°íŠ¸ê°€ ë¡œë”©ë˜ê¸° ì „ì— í˜ì´ì§€ê°€ ë¡œë”©ë˜ë‹ˆê¹Œ ë­”ê°€ ë˜ê²Œ ì—†ì–´ë³´ì¸ë‹¤... ì´ê²ƒë„ í•´ê²°í•˜ì.

#### getStaticProps ê´€ë ¨

next appì„ ë¹Œë“œí•  ë•Œ, getStaticProps ì— ìˆëŠ” ëª¨~~ë“  ê²½ìš°ì— ëŒ€í•˜ì—¬ ì œëŒ€ë¡œëœ(ìœ íš¨í•œ) props ê°’ì„ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.([Prerender Error](https://nextjs.org/docs/messages/prerender-error))

getStaticProps ë¥¼ ì‚¬ìš©í•  ë•Œ, Next.jsì˜ api ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ”ê²ƒì€ ì•ˆëœë‹¤. getStaticPropsëŠ” ë¹Œë“œê°€ ì§„í–‰ë  ë•Œ, ì„œë²„ì‚¬ì´ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ë‚´ìš©ì´ë¯€ë¡œ, apiê¸°ëŠ¥ì€ ì‚¬ìš©ë˜ê³ ìˆì§€ ì•Šë‹¤. ë”°ë¼ì„œ, getStaticPropsì—ì„œ íŒŒì¼ì„ ì½ì–´ì˜¤ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ë©”ë‰´ ë°ì´í„°ë¥¼ ì½ì–´ì˜¨ë‹¤.

#### ë©”ë‰´ UI ê°œë°œ

ë²Œì§‘ì²˜ëŸ¼ ìœ¡ê°í˜• ë©”ë‰´ë²„íŠ¼ì„ í™œìš©í•œ ë©”ë‰´ë¥¼ ë§Œë“¤ì–´ë³´ì. ê·¸ëƒ¥ ê°œì¸ì ìœ¼ë¡œ ë©‹ìˆì–´ë³´ì—¬ì„œ ã…ã…..

ì„¸íŒ…í•˜ëŠ”ê²Œ ë³´í†µì¼ì´ ì•„ë‹ˆë‹¤... ë§Œë“¤ì–´ì§„ ì»´í¬ë„ŒíŠ¸ê°€ ìˆìœ¼ë©´ ì¢‹ê² ì§€ë§Œ ì›Œë‚™ ë…íŠ¹í•œ ëª¨ì–‘ì´ë¼ ì§ì ‘ ë§Œë“¤ì—ˆë‹¤. í•˜ë„ ë³µì¡í•´ì„œ ê·¸ëƒ¥ í•˜ë“œì½”ë”©ìœ¼ë¡œ í¬ê¸°ë¥¼ ê³ ì •í•´ë†“ê³  ë§Œë“¤ì—ˆë‹¤.

ëŒ€ì‹  í™”ë©´ ë„ˆë¹„ì— ë§ê²Œ ë°ì´í„° êµ¬ì¡°ë¥¼ ì¬êµ¬ì„±í•´ì„œ ìœ¡ê°í˜•ì´ ë©€í‹°ë¼ì¸ìœ¼ë¡œ ê²¹ì¹  ìˆ˜ ìˆëŠ” ë©”ë‰´ë¥¼ ë§Œë“¤ì—ˆë‹¤. ë‚˜ë¦„ì˜ ë°˜ì‘í˜• ë©”ë‰´ê°€ ê°€ëŠ¥í•˜ë‹¤.

#### ìºë¦­í„° ê²€ìƒ‰ì°½

##### ìƒë‹¨ì˜ ë©”ë‰´ ë§Œë“¤ê¸°

ì´í›„ì˜ í™•ì¥ì„±ì„ ìƒê°í•˜ë©´, ë‹¨ìˆœíˆ í¬ê¸°ë¥¼ ê³ ì •í•´ë†“ê¸°ë³´ë‹¤, ìŠ¤í¬ë¡¤ì´ ê°€ëŠ¥í•œ ë©”ë‰´ë¥¼ ë§Œë“¤ë©´ ì¢‹ì„ ê²ƒ ê°™ì•˜ë‹¤.

ì „ì²´ì ì¸ ë¼ˆëŒ€ëŠ” [`react-horizontal-scrolling-menu` ](https://www.npmjs.com/package/react-horizontal-scrolling-menu)ë¼ëŠ” ëª¨ë“ˆì„ ì‚¬ìš©í–ˆë‹¤.

ì•„ì´ì½˜ì€ http://svgicons.sparkk.fr/ , https://iconsvg.xyz/ ì„ ì°¸ì¡°.

ì„¸ì„¸í•œ ë¶€ë¶„ì€ ì§ì ‘ cssë‚˜ jsë¥¼ ì‚¬ìš©í•´ì„œ ìˆ˜ì •ì„ í•´ì¤˜ì•¼í–ˆë‹¤.

ë©”ë‰´ì˜ ìŠ¤í¬ë¡¤ ë°©ì‹ì€ ì´ 3ê°€ì§€ë¥¼ ë™ì‹œì— ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

- 1. ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ë¥¼ í†µí•œ ìŠ¤í¬ë¡¤
  - ì´ ê²½ìš° MouseUp Eventì—ì„œ ë©”ë‰´ ë§í¬ê°€ í´ë¦­ì´ ë˜ë²„ë¦¬ëŠ” ê²½ìš°ê°€ ë°œìƒí•´ì„œ, ëª¨ë“ˆì—ì„œ ì œê³µí•˜ëŠ” Dragging í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•´, ë§í¬ë¥¼ ì ì‹œ ë¹„í™œì„±í™”í–ˆë‹¤.
- 2. ë§ˆìš°ìŠ¤ íœ ì„ í†µí•œ ìŠ¤í¬ë¡¤(ê°œì¸ì ìœ¼ë¡œ ê°•ì¶”)
  - onWheel ì´ë²¤íŠ¸ì— ì œê³µí•´ì£¼ëŠ” ë°ëª¨ì½”ë“œë¥¼ ì‚¬ìš©í–ˆë‹¤.
- 3. Arrow ë²„íŠ¼ì„ í†µí•œ ìŠ¤í¬ë¡¤
  - ê°€ì¥ ê³¨ì¹˜ì•„íŒ ë‹¤. Arrow ë¥¼ ë³´ì´ê³  ìˆ¨ê¸°ëŠ” ê¸°ëŠ¥ì´ ì „ì²´ ë„ˆë¹„ì™€ í˜„ì¬ ìŠ¤í¬ë¡¤ì— ë”°ë¼ ì¸ì‹í•˜ëŠ” ê²ƒ ê°™ì€ë°, ë©”ë‰´ê°€ ì ì–´ widthê°€ ì¶©ë¶„í•˜ì§€ ì•Šì„ ë•ŒëŠ” ìš°ì¸¡ Arrow ë²„íŠ¼ì´ ìê¾¸ ìê¸°ë§˜ëŒ€ë¡œ ì¶œë ¥ëë‹¤.
  - Reactë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, í•´ê²°í•˜ëŠ”ë° ì• ë¥¼ ë¨¹ì—ˆë‹¤. ì‹¤ì œ DOM ìš”ì†Œì¸ ë©”ë‰´ Divë¥¼ useRefë¡œ ê°€ì ¸ì™€ì„œ ì§ì ‘ ë„ˆë¹„ë¥¼ ì²´í¬í•´ ì˜¤ë²„í”Œë¡œìš°ê°€ ë°œìƒí–ˆëŠ”ì§€ ì²´í¬í•˜ê³ , ì´ë¥¼ í”Œë˜ê·¸ë¡œ ì‚¬ìš©í•´ì„œ Arrowì˜ ì¶œë ¥ì„ ì¡°ì •í–ˆë‹¤.(~~ì´ê²Œ ë§ë‚˜ ì‹¶ì„ ì •ë„ë¡œ ë­”ê°€ ë”ëŸ¬ìš´ê±´ ê¸°ë¶„íƒ“ì¼ê¹Œ?~~)

ê¸°ëŠ¥ì„ ì—´ì‹¬íˆ êµ¬í˜„í•´ë†“ê¸´ í–ˆëŠ”ë°, ì•„ì§ ì‹¤ì œ ë©”ë‰´ê°€ 3ê°œë°–ì— ì—†ì–´ì„œ ë³´ì—¬ì¤„ ë°©ë²•ì´ ì—†ë‹¤...

ë”ë¯¸ ë©”ë‰´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì•¼ì§€ ã…‹.ã…‹

##### ìºë¦­í„° ê²€ìƒ‰ & ì •ë³´ ë””ìŠ¤í”Œë ˆì´

ê¸°ë³¸ì ì¸ í˜ì´ì§€êµ¬ì„±ì€ ê²€ìƒ‰ë°”, ìºë¦­í„° ì •ë³´ì°½ì´ë‹¤. localStorageì— ê°€ì¥ ìµœê·¼ ê²€ìƒ‰ì •ë³´ë¥¼ ì €ì¥í•´ë†“ê³ , ê¸°ë³¸ ì¶œë ¥ì •ë³´ë¡œ ì„¤ì •ì„ í•´ë†“ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.(ê¸°ë³¸ ì¶œë ¥ì •ë³´ ì§ì ‘ ì„¤ì •ë„ ê°€ëŠ¥í•˜ê²Œ í•˜ë©´ ì¢‹ì„ë“¯?)

ì¼ë‹¨ì€ ê°„ë‹¨í•˜ê²Œ ì¶œë ¥ë‚´ìš©ì„ ì •í•˜ì.

- 1. ìºë¦­í„° ì •ë³´
  - ì„œë²„
  - ê¸¸ë“œ
  - í´ë˜ìŠ¤
  - ì¹­í˜¸
  - ì „íˆ¬ë ˆë²¨
  - ì•„ì´í…œë ˆë²¨
  - ì›ì •ëŒ€ ë ˆë²¨
  - pvp ë ˆë²¨
  - ì˜ì§€ë ˆë²¨, ì´ë¦„
  - ë ˆë²¨ ìˆœìœ„
  - ...
- 2. ì¥ë¹„ ì •ë³´
  - ì¥ë¹„
  - ì•…ì„¸ì„œë¦¬
  - ì¥ì°© ê°ì¸
  - ì¥ì°© ë³´ì„ ì •ë³´

##### Lostark OpenAPI

ìœ„ì—ì„œ ì •í•œ ì •ë³´ë“¤ì€ ì‘ë…„ì— LostArk ì¸¡ì—ì„œ ê³µì‹ì ìœ¼ë¡œ openAPIë¥¼ ì—´ì–´ì¤¬ë‹¤. ì•¼ë¬´ì§€ê²Œ ì‚¬ìš©í•´ë³´ì.

ë°œê¸‰ë°›ì€ í† í°ì€ `.env.local` ì— ì €ì¥í•´ë†¨ë‹¤.

##### Dynamic Routes ì´ìŠˆ

ë³¸ë˜ ë‚´ ëª©ì ì€ /character ê²½ë¡œ ë’¤ì— ì–´ë–¤ queryê°€ ì˜¤ë˜(`/`, `/hello`, `/a/b` ë“±) `[[name]].tsxx`ë¡œ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ë ¤ê³  í–ˆë‹¤.

Documentë¥¼ ë³´ë‹ˆ [Optional catch all routes](https://nextjs.org/docs/routing/dynamic-routes#optional-catch-all-routes) ë¼ê³  ì„¤ëª…ì´ ë‚˜ì™€ìˆê¸¸ë˜ ì‚¬ìš©í•´ë´¤ëŠ”ë° ì •ì‘ ê°œë°œì„œë²„ë‚˜ ë¹Œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ë”ë¼...

`Error: Optional route parameters are not yet supported ("[[name]]").`

ë‚œ ë¶„ëª…íˆ ìµœì‹  ë²„ì „ì„ ì‚¬ìš©í–ˆëŠ”ë° ì´ê²Œ ë¬´ìŠ¨ì¼ì´ì§€?....

ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•´ê²°ë°©ë²•ì„ ì°¾ì•„ë³´ë ¤ë‹¤ê°€, ê·¼ë³¸ì ì¸ í•´ê²°ë²•ì„ ì°¾ì•˜ë‹¤. ì• ì´ˆì— urlì˜ path variableë¡œ ë°›ì„ í•„ìš”ê°€ ì—†ë˜ ë¬¸ì œì˜€ë‹¤. **ë‘ë‘¥ íƒ!** ğŸ˜‚

ë‚´ ëª©ì ëŒ€ë¡œë¼ë©´ ê·¸ëƒ¥ character/index í˜ì´ì§€ì—ì„œ í™•ì¸í•œ localStorageì— default nameì´ ì—†ìœ¼ë©´, ì´ˆê¸° ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ë¥¼, ìˆìœ¼ë©´ ì •ë³´ ì¶œë ¥ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”í•˜ë©´ ë˜ëŠ” ê²ƒì´ì—ˆë˜ ê²ƒì´ì—ˆë˜ ê²ƒì´ì—ˆë‹¤.

##### 23/05/03 AWS ê²°ì œì‚¬íƒœ

ìƒˆë²½ 2ì‹œ í•œêµ­ì¸ë“¤ì´ ì ë“ ì‹œê°„... AWS 6ë‹¬ëŸ¬ ê²°ì œë¬¸ìê°€ ì¥ë„ìƒˆë„ëª¨ë¥´ê²Œ ì™”ë‹¤.

ë¶„ëª… free tier ì¸ìŠ¤í„´ìŠ¤ì˜€ëŠ”ë° ì™œ ê²°ì œê°€ ëì„ê¹Œ?

Free Tierë¥¼ ì‚¬ìš©í•œë‹¤ í•´ë„,ì‚¬ìš© ì‹œì‘ìœ¼ë¡œë¶€í„° 1ë…„ë™ì•ˆë§Œ ë¬´ë£Œë¡œ ì œê³µí•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤. ã… ã… ã… 

ì´ë¯¸ 2ì£¼ì¼ì •ë„ ì‚¬ìš©í–ˆìœ¼ë‹ˆ í™˜ë¶ˆì€ ë¬´ë¦¬ì¼ ê²ƒ ê°™ê³ , ì¬ë¹ ë¥´ê²Œ ì¸ìŠ¤í„´ìŠ¤ ì‚­ì œí•˜ê³  ìƒˆë¡œìš´ ì•„ì´ë””ë¥¼ íŒŒë³´ì.
(banghyechan@gmail.com)

##### Redux?

ìºë¦­í„° í˜ì´ì§€ì˜ êµ¬í˜„ì„ í•˜ë‹¤ê°€ ê³ ë¯¼ì´ ìƒê²¼ë‹¤. ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë§Œë“¤ê³ , ì—¬ê¸°ì— ì»´í¬ë„ŒíŠ¸ë“¤ì„ ìƒì„±í•˜ë‹¤ë³´ë‹ˆ, props ì „ë‹¬ì´ ì ì  ê¸¸ì–´ì§€ê³  ê·€ì°®ì•„ì§„ë‹¤. reduxë¥¼ ì‚¬ìš©í•˜ì.

`npm i redux next-redux-wrapper react-redux redux-saga redux-actions @types/redux-actions react-router-dom`

- redux next-redux-wrapper react-redux : redux ì‚¬ìš© ê´€ë ¨
- redux-saga : ë¹„ë™ê¸° action ì²˜ë¦¬ middleware
- redux-actions @types/redux-actions : ducks íŒ¨í„´ ì‚¬ìš© ê´€ë ¨
- react-router-dom : spa ê´€ë ¨

`npm i redux-devtools-extension -D`

- ê°œë°œ ì„œë²„ store í™•ì¸ ê´€ë ¨

> ìì„¸í•œ êµ¬í˜„ì€ ì˜ˆì „ ê°•ì˜ë“¤ì„ë•Œ ì§  ì½”ë“œë¥¼ ì°¸ì¡°í–ˆìŒ.<br>
> âš ï¸ Next.js ì—ì„œ redux ì‚¬ìš©ë²•ì€ React ì—ì„œì™€ëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤. ì°¸ì¡° ë¸”ë¡œê·¸ : https://devkkiri.com/post/59cb38dd-f939-462d-9e7f-afcc338b621f<br>
> í•´ë‹¹ ë¸”ë¡œê·¸ë„ ì˜ˆì „ ë²„ì „ì´ë¼, ì½”ë“œ ìˆ˜ì •ì´ ëª‡ë¶€ë¶„ìˆìŒ. \_app.tsx ì—ì„œ Store ì ìš© ë°©ë²•ì´ ì¡°ê¸ˆ ë” ê°„ë‹¨í•˜ì§„ í•¨ìˆ˜ë¥¼ ì‚¬ìš©<br>

```tsx
// Spread ì—°ì‚°ìë¡œ ë‘ë²ˆì§¸ ì¸ì ì‚¬ìš©
export default function App({ Component, ...rest }: AppProps) {
  // useWrappedStore í•¨ìˆ˜ë¥¼ ì‚¬ìš©
  const { store, props } = wrapper.useWrappedStore(rest);
  const { pageProps } = props;
  return (
    <Provider store={store}>
      <Head>
        <title>Loaple - Lostark Helper</title>
      </Head>
      <Component {...pageProps} />
    </Provider>
  );
}
```

##### ì»´í¬ë„ŒíŠ¸ë“¤ì˜ Containerë¥¼ ë§Œë“¤ë‹¤ê°€ ë¬¸ë“ ë“  ìƒê°

ì–´ì§œí”¼ Containerì˜ ì—­í• ì´ Presentationì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë°ì´í„°ì™€ ê¸°ëŠ¥ë“¤ì„ ì •ì˜í•´ì„œ ì „ë‹¬í•´ì£¼ëŠ” ì—­í• ì¸ë°, Next.jsë¥¼ ì‚¬ìš©í•˜ëŠ” ì§€ê¸ˆì˜ ê²½ìš°ì—ëŠ” page ìì²´ì„ ì—ì„œ í•´ê²°ì´ ê°€ëŠ¥í•˜ì§€ ì•Šì„ê¹Œ?

â¡ï¸ Menu ì²˜ëŸ¼ depthê°€ ì–•ì€ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš°ì—ëŠ” ì´ê²Œ ë” ë‚˜ì„ë“¯ í•œë°, ë©”ì¸ ê¸°ëŠ¥ë“¤ì˜ í˜ì´ì§€ëŠ” depthê°€ ê¹Šê¸° ë•Œë¬¸ì—, pageì—ì„œ ì „ë¶€ ì „ë‹¬í•˜ë ¤ë©´ ë˜ë‹¤ì‹œ props ì§€ì˜¥ì— ë¹ ì§ˆ ê²ƒ ê°™ë‹¤.(ex. ë‹‰ë„¤ì„ ê²€ìƒ‰í•˜ëŠ” search ë©”ì„œë“œë¥¼ í˜ì´ì§€ -> Body ì»´í¬ë„ŒíŠ¸ -> SearchBar ì»´í¬ë„ŒíŠ¸ ... )

> ê²€ìƒ‰ê¸°ë¡ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ì»¨í…Œì´ë„ˆì—ì„œ stateë¡œ ì‚¬ìš©í• ì§€ reduxë¥¼ ì‚¬ìš©í• ì§€ ê³ ë¯¼í•˜ë‹¤ê°€, ì¼ë‹¨ ë‹‰ë„¤ì„ ê²€ìƒ‰ ìì²´ê°€ ë³€ê²½ë¹ˆë„ê°€ ë§ê¸° ë•Œë¬¸ì—, stateë¡œ ë§Œë“¤ì–´ë´¤ë‹¤.<br>
> ì•„ë‹ˆë‚˜ ë‹¤ë¥¼ê¹Œ, props ì „ë‹¬ ê³¼ì •ì— depthê°€ ê¹Šì–´ì§€ë‹¤ë³´ë‹ˆ ì½”ë“œê°€ ë“œëŸ½ê²Œ ë¶ˆì–´ë‚¬ê³ , ì´ê±´ ì•„ë‹ˆë‹¤ ì‹¶ì–´ì„œ ë‹¤ì‹œ ë˜ëŒë ¤ì„œ reduxë¡œ ì‘ì—…ì„ ì§„í–‰í–ˆë‹¤.(ì§€ê¸‹ì§€ê¸‹í•œ ì‚½ì§ˆ ğŸ¤¬)

##### ìºë¦­í„° ê²€ìƒ‰ ê¸°ë¡

ìºë¦­í„° ì •ë³´ ì¶œë ¥ì— ì•ì„œ ê²€ìƒ‰í•œ ê¸°ë¡ì„ ì €ì¥í•˜ë ¤ê³  í•œë‹¤.

Reduxë¥¼ í™œìš©í•´ì„œ, dispatchê°€ ë˜ë©´ api ìš”ì²­ì„ ë³´ë‚´ê³ , ë°›ì•„ì˜¨ ì •ë³´ë¡œ stateë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.

ê¸°ëŠ¥ ìì²´ëŠ” ë„ˆë¬´ ê°„ë‹¨í•œë°, ìœ„ì— ì–¸ê¸‰í•œ ì‚½ì§ˆë•Œë¬¸ì— ê¸¸ì–´ì¡Œë‹¤.

> githubì„ ì‚¬ìš©í•  ë•Œ, ë””ë ‰í„°ë¦¬ëª…/íŒŒì¼ëª… ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì´ ì•ˆë˜ë”ë¼... ì„¸íŒ…ì„ ë”°ë¡œ í•´ì¤˜ì•¼ í•˜ëŠ”ê±¸ê¹Œ? ì£¼ì˜í•˜ì.

##### cors ì´ìŠˆ

ë¡œìŠ¤íŠ¸ì•„í¬ OpenAPIì—ì„œ ì œê³µí•˜ëŠ” ìºë¦­í„° ì´ë¯¸ì§€ urlì€ ìºë¦­í„°ê°€ ì•„ë°”íƒ€ë¥¼ ì°©ìš©í•˜ê³  ìˆì§€ ì•Šìœ¼ë©´, nullì„ ë°˜í™˜í•œë‹¤.

ëŒ€ì‹  ê³µì‹ í™ˆí˜ì´ì§€ì˜ ì „íˆ¬ì •ë³´ì‹¤ì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ìŠ¤í¬ë˜í•‘í•´ì„œ ì‚¬ìš©í•˜ë ¤ê³  í•˜ëŠ”ë°, get ìš”ì²­ì„ ë³´ë‚¼ ë•Œ cors policy ì— ê±¸ë ¸ë‹¤.

í•´ê²°ì„ ìœ„í•´ next.jsì˜ rewrites ê¸°ëŠ¥ì„ config íŒŒì¼ì— ì„¤ì •í•œë‹¤.

##### prevent body scroll

ë©”ë‰´ë°”ì— ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ì„ ì ìš©í–ˆëŠ”ë°, ì „ì²´ ë°”ë””ì˜ ìŠ¤í¬ë¡¤ì´ ê°™ì´ ë˜ëŠ” ë¬¸ì œê°€ ìƒê²¼ë‹¤.

ë¬¸ì œëŠ” ë©”ë‰´ë°”ê°€ ì˜¤í”ˆì†ŒìŠ¤ ì»´í¬ë„ŒíŠ¸ì´ê¸° ë•Œë¬¸ì—, ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì •í•˜ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤. ë¶„ëª… ë°ëª¬ ì‚¬ì´íŠ¸ì—ì„œëŠ” ë¬¸ì œê°€ ì—†ì—ˆëŠ”ë°, ë¬´ì–¸ê°€ ì„¸íŒ…í•˜ë©´ì„œ ë¬¸ì œê°€ ìƒê¸´ ë“¯ í•˜ë‹¤.

ë°ëª¬ ì‚¬ì´íŠ¸ì—ì„  ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ í›…ìœ¼ë¡œ export í•´ì„œ ì‚¬ìš©í•œë‹¤.

```ts
const preventDefault = (ev: Event) => {
  if (ev.preventDefault) {
    ev.preventDefault();
  }
  ev.returnValue = false;
};

const enableBodyScroll = () => {
  document && document.removeEventListener("wheel", preventDefault, false);
};
const disableBodyScroll = () => {
  document &&
    document.addEventListener("wheel", preventDefault, {
      passive: false,
    });
};
```

ì™œì¸ì§€ ì ìš©ì´ ì•ˆë¼ì„œ, ì†ŒìŠ¤ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í–ˆë‹¤.

```ts
function overflowSetter(position: string, overflow: string): void {
  document.documentElement.style.position = position;
  document.documentElement.style.overflow = overflow;
  document.body.style.position = position;
  document.body.style.overflow = overflow;
}
```

ì‚¬ìš© ë°©ì‹ì€, ë©”ë‰´ë°”ì˜ `onMouseEnter`, `onMouseLeave` ì´ë²¤íŠ¸ì— ë”°ë¼ htmlê³¼ bodyì˜ position, overflow ì†ì„±ì„ ë°”ê¿”ì„œ ìŠ¤í¬ë¡¤ì´ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.
